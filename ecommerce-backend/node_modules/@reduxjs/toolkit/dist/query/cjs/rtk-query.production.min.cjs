"use strict";var ce=Object.defineProperty;var it=Object.getOwnPropertyDescriptor;var ot=Object.getOwnPropertyNames;var at=Object.prototype.hasOwnProperty;var st=(e,r)=>{for(var c in r)ce(e,c,{get:r[c],enumerable:!0})},ut=(e,r,c,T)=>{if(r&&typeof r=="object"||typeof r=="function")for(let d of ot(r))!at.call(e,d)&&d!==c&&ce(e,d,{get:()=>r[d],enumerable:!(T=it(r,d))||T.enumerable});return e};var yt=e=>ut(ce({},"__esModule",{value:!0}),e);var St={};st(St,{QueryStatus:()=>ie,buildCreateApi:()=>de,copyWithStructuralSharing:()=>G,coreModule:()=>pe,coreModuleName:()=>re,createApi:()=>rt,defaultSerializeQueryArgs:()=>ne,fakeBaseQuery:()=>_e,fetchBaseQuery:()=>De,retry:()=>Me,setupListeners:()=>ke,skipToken:()=>te});module.exports=yt(St);var ie=(d=>(d.uninitialized="uninitialized",d.pending="pending",d.fulfilled="fulfilled",d.rejected="rejected",d))(ie||{});function Te(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var i=require("@reduxjs/toolkit");var he=i.isPlainObject;function G(e,r){if(e===r||!(he(e)&&he(r)||Array.isArray(e)&&Array.isArray(r)))return r;let c=Object.keys(r),T=Object.keys(e),d=c.length===T.length,S=Array.isArray(r)?[]:{};for(let R of c)S[R]=G(e[R],r[R]),d&&(d=e[R]===S[R]);return d?e:S}function j(e){let r=0;for(let c in e)r++;return r}var le=e=>[].concat(...e);function Qe(e){return new RegExp("(^|:)//").test(e)}function Se(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function fe(e){return e!=null}function xe(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var dt=e=>e.replace(/\/$/,""),pt=e=>e.replace(/^\//,"");function Re(e,r){if(!e)return r;if(!r)return e;if(Qe(r))return r;let c=e.endsWith("/")||!r.startsWith("?")?"/":"";return e=dt(e),r=pt(r),`${e}${c}${r}`}var Ae=(...e)=>fetch(...e),ct=e=>e.status>=200&&e.status<=299,lt=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function be(e){if(!(0,i.isPlainObject)(e))return e;let r={...e};for(let[c,T]of Object.entries(r))T===void 0&&delete r[c];return r}function De({baseUrl:e,prepareHeaders:r=l=>l,fetchFn:c=Ae,paramsSerializer:T,isJsonContentType:d=lt,jsonContentType:S="application/json",jsonReplacer:R,timeout:M,responseHandler:k,validateStatus:m,...A}={}){return typeof fetch>"u"&&c===Ae&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(n,t)=>{let{signal:g,getState:x,extra:p,endpoint:y,forced:a,type:s}=t,o,{url:u,headers:h=new Headers(A.headers),params:f=void 0,responseHandler:Q=k??"json",validateStatus:E=m??ct,timeout:b=M,...B}=typeof n=="string"?{url:n}:n,D={...A,signal:g,...B};h=new Headers(be(h)),D.headers=await r(h,{getState:x,extra:p,endpoint:y,forced:a,type:s})||h;let v=C=>typeof C=="object"&&((0,i.isPlainObject)(C)||Array.isArray(C)||typeof C.toJSON=="function");if(!D.headers.has("content-type")&&v(D.body)&&D.headers.set("content-type",S),v(D.body)&&d(D.headers)&&(D.body=JSON.stringify(D.body,R)),f){let C=~u.indexOf("?")?"&":"?",F=T?T(f):new URLSearchParams(be(f));u+=C+F}u=Re(e,u);let P=new Request(u,D);o={request:new Request(u,D)};let O,N=!1,I=b&&setTimeout(()=>{N=!0,t.abort()},b);try{O=await c(P)}catch(C){return{error:{status:N?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(C)},meta:o}}finally{I&&clearTimeout(I)}let K=O.clone();o.response=K;let q,J="";try{let C;if(await Promise.all([l(O,Q).then(F=>q=F,F=>C=F),K.text().then(F=>J=F,()=>{})]),C)throw C}catch(C){return{error:{status:"PARSING_ERROR",originalStatus:O.status,data:J,error:String(C)},meta:o}}return E(O,q)?{data:q,meta:o}:{error:{status:O.status,data:q},meta:o}};async function l(n,t){if(typeof t=="function")return t(n);if(t==="content-type"&&(t=d(n.headers)?"json":"text"),t==="json"){let g=await n.text();return g.length?JSON.parse(g):null}return n.text()}}var U=class{constructor(r,c=void 0){this.value=r;this.meta=c}};async function ft(e=0,r=5){let c=Math.min(e,r),T=~~((Math.random()+.4)*(300<<c));await new Promise(d=>setTimeout(S=>d(S),T))}function mt(e){throw Object.assign(new U({error:e}),{throwImmediately:!0})}var Ee={},gt=(e,r)=>async(c,T,d)=>{let S=[5,(r||Ee).maxRetries,(d||Ee).maxRetries].filter(A=>A!==void 0),[R]=S.slice(-1),k={maxRetries:R,backoff:ft,retryCondition:(A,l,{attempt:n})=>n<=R,...r,...d},m=0;for(;;)try{let A=await e(c,T,d);if(A.error)throw new U(A);return A}catch(A){if(m++,A.throwImmediately){if(A instanceof U)return A.value;throw A}if(A instanceof U&&!k.retryCondition(A.value.error,c,{attempt:m,baseQueryApi:T,extraOptions:d}))return A.value;await k.backoff(m,k.maxRetries)}},Me=Object.assign(gt,{fail:mt});var L=(0,i.createAction)("__rtkq/focused"),V=(0,i.createAction)("__rtkq/unfocused"),_=(0,i.createAction)("__rtkq/online"),W=(0,i.createAction)("__rtkq/offline"),me=!1;function ke(e,r){function c(){let T=()=>e(L()),d=()=>e(V()),S=()=>e(_()),R=()=>e(W()),M=()=>{window.document.visibilityState==="visible"?T():d()};return me||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",M,!1),window.addEventListener("focus",T,!1),window.addEventListener("online",S,!1),window.addEventListener("offline",R,!1),me=!0),()=>{window.removeEventListener("focus",T),window.removeEventListener("visibilitychange",M),window.removeEventListener("online",S),window.removeEventListener("offline",R),me=!1}}return r?r(e,{onFocus:L,onFocusLost:V,onOffline:W,onOnline:_}):c()}function ae(e){return e.type==="query"}function Be(e){return e.type==="mutation"}function Y(e,r,c,T,d,S){return Tt(e)?e(r,c,T,d).map(oe).map(S):Array.isArray(e)?e.map(oe).map(S):[]}function Tt(e){return typeof e=="function"}function oe(e){return typeof e=="string"?{type:e}:e}var se=require("immer");var _t=require("@reduxjs/toolkit");function ve(e,r){return e.catch(r)}var $=Symbol("forceQueryFn"),X=e=>typeof e[$]=="function";function Pe({serializeQueryArgs:e,queryThunk:r,mutationThunk:c,api:T,context:d}){let S=new Map,R=new Map,{unsubscribeQueryResult:M,removeMutationResult:k,updateSubscriptionOptions:m}=T.internalActions;return{buildInitiateQuery:x,buildInitiateMutation:p,getRunningQueryThunk:A,getRunningMutationThunk:l,getRunningQueriesThunk:n,getRunningMutationsThunk:t};function A(y,a){return s=>{let o=d.endpointDefinitions[y],u=e({queryArgs:a,endpointDefinition:o,endpointName:y});return S.get(s)?.[u]}}function l(y,a){return s=>R.get(s)?.[a]}function n(){return y=>Object.values(S.get(y)||{}).filter(fe)}function t(){return y=>Object.values(R.get(y)||{}).filter(fe)}function g(y){}function x(y,a){let s=(o,{subscribe:u=!0,forceRefetch:h,subscriptionOptions:f,[$]:Q,...E}={})=>(b,B)=>{let D=e({queryArgs:o,endpointDefinition:a,endpointName:y}),v=r({...E,type:"query",subscribe:u,forceRefetch:h,subscriptionOptions:f,endpointName:y,originalArgs:o,queryCacheKey:D,[$]:Q}),P=T.endpoints[y].select(o),w=b(v),O=P(B());let{requestId:N,abort:I}=w,K=O.requestId!==N,q=S.get(b)?.[D],J=()=>P(B()),C=Object.assign(Q?w.then(J):K&&!q?Promise.resolve(O):Promise.all([q,w]).then(J),{arg:o,requestId:N,subscriptionOptions:f,queryCacheKey:D,abort:I,async unwrap(){let F=await C;if(F.isError)throw F.error;return F.data},refetch:()=>b(s(o,{subscribe:!1,forceRefetch:!0})),unsubscribe(){u&&b(M({queryCacheKey:D,requestId:N}))},updateSubscriptionOptions(F){C.subscriptionOptions=F,b(m({endpointName:y,requestId:N,queryCacheKey:D,options:F}))}});if(!q&&!K&&!Q){let F=S.get(b)||{};F[D]=C,S.set(b,F),C.then(()=>{delete F[D],j(F)||S.delete(b)})}return C};return s}function p(y){return(a,{track:s=!0,fixedCacheKey:o}={})=>(u,h)=>{let f=c({type:"mutation",endpointName:y,originalArgs:a,track:s,fixedCacheKey:o}),Q=u(f);let{requestId:E,abort:b,unwrap:B}=Q,D=ve(Q.unwrap().then(O=>({data:O})),O=>({error:O})),v=()=>{u(k({requestId:E,fixedCacheKey:o}))},P=Object.assign(D,{arg:Q.arg,requestId:E,abort:b,unwrap:B,reset:v}),w=R.get(u)||{};return R.set(u,w),w[E]=P,P.then(()=>{delete w[E],j(w)||R.delete(u)}),o&&(w[o]=P,P.then(()=>{w[o]===P&&(delete w[o],j(w)||R.delete(u))})),P}}}function Ce(e){return e}function Fe({reducerPath:e,baseQuery:r,context:{endpointDefinitions:c},serializeQueryArgs:T,api:d,assertTagType:S}){let R=(a,s,o,u)=>(h,f)=>{let Q=c[a],E=T({queryArgs:s,endpointDefinition:Q,endpointName:a});if(h(d.internalActions.queryResultPatched({queryCacheKey:E,patches:o})),!u)return;let b=d.endpoints[a].select(s)(f()),B=Y(Q.providesTags,b.data,void 0,s,{},S);h(d.internalActions.updateProvidedBy({queryCacheKey:E,providedTags:B}))},M=(a,s,o,u=!0)=>(h,f)=>{let E=d.endpoints[a].select(s)(f()),b={patches:[],inversePatches:[],undo:()=>h(d.util.patchQueryData(a,s,b.inversePatches,u))};if(E.status==="uninitialized")return b;let B;if("data"in E)if((0,se.isDraftable)(E.data)){let[D,v,P]=(0,se.produceWithPatches)(E.data,o);b.patches.push(...v),b.inversePatches.push(...P),B=D}else B=o(E.data),b.patches.push({op:"replace",path:[],value:B}),b.inversePatches.push({op:"replace",path:[],value:E.data});return b.patches.length===0||h(d.util.patchQueryData(a,s,b.patches,u)),b},k=(a,s,o)=>u=>u(d.endpoints[a].initiate(s,{subscribe:!1,forceRefetch:!0,[$]:()=>({data:o})})),m=async(a,{signal:s,abort:o,rejectWithValue:u,fulfillWithValue:h,dispatch:f,getState:Q,extra:E})=>{let b=c[a.endpointName];try{let B=Ce,D,v={signal:s,abort:o,dispatch:f,getState:Q,extra:E,endpoint:a.endpointName,type:a.type,forced:a.type==="query"?A(a,Q()):void 0},P=a.type==="query"?a[$]:void 0;if(P?D=P():b.query?(D=await r(b.query(a.originalArgs),v,b.extraOptions),b.transformResponse&&(B=b.transformResponse)):D=await b.queryFn(a.originalArgs,v,b.extraOptions,w=>r(w,v,b.extraOptions)),typeof process<"u",D.error)throw new U(D.error,D.meta);return h(await B(D.data,D.meta,a.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:D.meta,[i.SHOULD_AUTOBATCH]:!0})}catch(B){let D=B;if(D instanceof U){let v=Ce;b.query&&b.transformErrorResponse&&(v=b.transformErrorResponse);try{return u(await v(D.value,D.meta,a.originalArgs),{baseQueryMeta:D.meta,[i.SHOULD_AUTOBATCH]:!0})}catch(P){D=P}}throw typeof process<"u",console.error(D),D}};function A(a,s){let o=s[e]?.queries?.[a.queryCacheKey],u=s[e]?.config.refetchOnMountOrArgChange,h=o?.fulfilledTimeStamp,f=a.forceRefetch??(a.subscribe&&u);return f?f===!0||(Number(new Date)-Number(h))/1e3>=f:!1}let l=(0,i.createAsyncThunk)(`${e}/executeQuery`,m,{getPendingMeta(){return{startedTimeStamp:Date.now(),[i.SHOULD_AUTOBATCH]:!0}},condition(a,{getState:s}){let o=s(),u=o[e]?.queries?.[a.queryCacheKey],h=u?.fulfilledTimeStamp,f=a.originalArgs,Q=u?.originalArgs,E=c[a.endpointName];return X(a)?!0:u?.status==="pending"?!1:A(a,o)||ae(E)&&E?.forceRefetch?.({currentArg:f,previousArg:Q,endpointState:u,state:o})?!0:!h},dispatchConditionRejection:!0}),n=(0,i.createAsyncThunk)(`${e}/executeMutation`,m,{getPendingMeta(){return{startedTimeStamp:Date.now(),[i.SHOULD_AUTOBATCH]:!0}}}),t=a=>"force"in a,g=a=>"ifOlderThan"in a,x=(a,s,o)=>(u,h)=>{let f=t(o)&&o.force,Q=g(o)&&o.ifOlderThan,E=(B=!0)=>{let D={forceRefetch:B,isPrefetch:!0};return d.endpoints[a].initiate(s,D)},b=d.endpoints[a].select(s)(h());if(f)u(E());else if(Q){let B=b?.fulfilledTimeStamp;if(!B){u(E());return}(Number(new Date)-Number(new Date(B)))/1e3>=Q&&u(E())}else u(E(!1))};function p(a){return s=>s?.meta?.arg?.endpointName===a}function y(a,s){return{matchPending:(0,i.isAllOf)((0,i.isPending)(a),p(s)),matchFulfilled:(0,i.isAllOf)((0,i.isFulfilled)(a),p(s)),matchRejected:(0,i.isAllOf)((0,i.isRejected)(a),p(s))}}return{queryThunk:l,mutationThunk:n,prefetch:x,updateQueryData:M,upsertQueryData:k,patchQueryData:R,buildMatchThunkActions:y}}function ue(e,r,c,T){return Y(c[e.meta.arg.endpointName][r],(0,i.isFulfilled)(e)?e.payload:void 0,(0,i.isRejectedWithValue)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,T)}var Ie=require("immer"),ee=require("immer");function ye(e,r,c){let T=e[r];T&&c(T)}function z(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function we(e,r,c){let T=e[z(r)];T&&c(T)}var Z={};function Oe({reducerPath:e,queryThunk:r,mutationThunk:c,context:{endpointDefinitions:T,apiUid:d,extractRehydrationInfo:S,hasRehydrationInfo:R},assertTagType:M,config:k}){let m=(0,i.createAction)(`${e}/resetApiState`),A=(0,i.createSlice)({name:`${e}/queries`,initialState:Z,reducers:{removeQueryResult:{reducer(s,{payload:{queryCacheKey:o}}){delete s[o]},prepare:(0,i.prepareAutoBatched)()},queryResultPatched:{reducer(s,{payload:{queryCacheKey:o,patches:u}}){ye(s,o,h=>{h.data=(0,ee.applyPatches)(h.data,u.concat())})},prepare:(0,i.prepareAutoBatched)()}},extraReducers(s){s.addCase(r.pending,(o,{meta:u,meta:{arg:h}})=>{let f=X(h);o[h.queryCacheKey]??={status:"uninitialized",endpointName:h.endpointName},ye(o,h.queryCacheKey,Q=>{Q.status="pending",Q.requestId=f&&Q.requestId?Q.requestId:u.requestId,h.originalArgs!==void 0&&(Q.originalArgs=h.originalArgs),Q.startedTimeStamp=u.startedTimeStamp})}).addCase(r.fulfilled,(o,{meta:u,payload:h})=>{ye(o,u.arg.queryCacheKey,f=>{if(f.requestId!==u.requestId&&!X(u.arg))return;let{merge:Q}=T[u.arg.endpointName];if(f.status="fulfilled",Q)if(f.data!==void 0){let{fulfilledTimeStamp:E,arg:b,baseQueryMeta:B,requestId:D}=u,v=(0,i.createNextState)(f.data,P=>Q(P,h,{arg:b.originalArgs,baseQueryMeta:B,fulfilledTimeStamp:E,requestId:D}));f.data=v}else f.data=h;else f.data=T[u.arg.endpointName].structuralSharing??!0?G((0,Ie.isDraft)(f.data)?(0,ee.original)(f.data):f.data,h):h;delete f.error,f.fulfilledTimeStamp=u.fulfilledTimeStamp})}).addCase(r.rejected,(o,{meta:{condition:u,arg:h,requestId:f},error:Q,payload:E})=>{ye(o,h.queryCacheKey,b=>{if(!u){if(b.requestId!==f)return;b.status="rejected",b.error=E??Q}})}).addMatcher(R,(o,u)=>{let{queries:h}=S(u);for(let[f,Q]of Object.entries(h))(Q?.status==="fulfilled"||Q?.status==="rejected")&&(o[f]=Q)})}}),l=(0,i.createSlice)({name:`${e}/mutations`,initialState:Z,reducers:{removeMutationResult:{reducer(s,{payload:o}){let u=z(o);u in s&&delete s[u]},prepare:(0,i.prepareAutoBatched)()}},extraReducers(s){s.addCase(c.pending,(o,{meta:u,meta:{requestId:h,arg:f,startedTimeStamp:Q}})=>{f.track&&(o[z(u)]={requestId:h,status:"pending",endpointName:f.endpointName,startedTimeStamp:Q})}).addCase(c.fulfilled,(o,{payload:u,meta:h})=>{h.arg.track&&we(o,h,f=>{f.requestId===h.requestId&&(f.status="fulfilled",f.data=u,f.fulfilledTimeStamp=h.fulfilledTimeStamp)})}).addCase(c.rejected,(o,{payload:u,error:h,meta:f})=>{f.arg.track&&we(o,f,Q=>{Q.requestId===f.requestId&&(Q.status="rejected",Q.error=u??h)})}).addMatcher(R,(o,u)=>{let{mutations:h}=S(u);for(let[f,Q]of Object.entries(h))(Q?.status==="fulfilled"||Q?.status==="rejected")&&f!==Q?.requestId&&(o[f]=Q)})}}),n=(0,i.createSlice)({name:`${e}/invalidation`,initialState:Z,reducers:{updateProvidedBy:{reducer(s,o){let{queryCacheKey:u,providedTags:h}=o.payload;for(let f of Object.values(s))for(let Q of Object.values(f)){let E=Q.indexOf(u);E!==-1&&Q.splice(E,1)}for(let{type:f,id:Q}of h){let E=(s[f]??={})[Q||"__internal_without_id"]??=[];E.includes(u)||E.push(u)}},prepare:(0,i.prepareAutoBatched)()}},extraReducers(s){s.addCase(A.actions.removeQueryResult,(o,{payload:{queryCacheKey:u}})=>{for(let h of Object.values(o))for(let f of Object.values(h)){let Q=f.indexOf(u);Q!==-1&&f.splice(Q,1)}}).addMatcher(R,(o,u)=>{let{provided:h}=S(u);for(let[f,Q]of Object.entries(h))for(let[E,b]of Object.entries(Q)){let B=(o[f]??={})[E||"__internal_without_id"]??=[];for(let D of b)B.includes(D)||B.push(D)}}).addMatcher((0,i.isAnyOf)((0,i.isFulfilled)(r),(0,i.isRejectedWithValue)(r)),(o,u)=>{let h=ue(u,"providesTags",T,M),{queryCacheKey:f}=u.meta.arg;n.caseReducers.updateProvidedBy(o,n.actions.updateProvidedBy({queryCacheKey:f,providedTags:h}))})}}),t=(0,i.createSlice)({name:`${e}/subscriptions`,initialState:Z,reducers:{updateSubscriptionOptions(s,o){},unsubscribeQueryResult(s,o){},internal_getRTKQSubscriptions(){}}}),g=(0,i.createSlice)({name:`${e}/internalSubscriptions`,initialState:Z,reducers:{subscriptionsUpdated:{reducer(s,o){return(0,ee.applyPatches)(s,o.payload)},prepare:(0,i.prepareAutoBatched)()}}}),x=(0,i.createSlice)({name:`${e}/config`,initialState:{online:xe(),focused:Se(),middlewareRegistered:!1,...k},reducers:{middlewareRegistered(s,{payload:o}){s.middlewareRegistered=s.middlewareRegistered==="conflict"||d!==o?"conflict":!0}},extraReducers:s=>{s.addCase(_,o=>{o.online=!0}).addCase(W,o=>{o.online=!1}).addCase(L,o=>{o.focused=!0}).addCase(V,o=>{o.focused=!1}).addMatcher(R,o=>({...o}))}}),p=(0,i.combineReducers)({queries:A.reducer,mutations:l.reducer,provided:n.reducer,subscriptions:g.reducer,config:x.reducer}),y=(s,o)=>p(m.match(o)?void 0:s,o),a={...x.actions,...A.actions,...t.actions,...g.actions,...l.actions,...n.actions,resetApiState:m};return{reducer:y,actions:a}}var te=Symbol.for("RTKQ/skipToken"),Ke={status:"uninitialized"},qe=(0,i.createNextState)(Ke,()=>{}),Ne=(0,i.createNextState)(Ke,()=>{});function je({serializeQueryArgs:e,reducerPath:r,createSelector:c}){let T=l=>qe,d=l=>Ne;return{buildQuerySelector:M,buildMutationSelector:k,selectInvalidatedBy:m,selectCachedArgsForQuery:A};function S(l){return{...l,...Te(l.status)}}function R(l){return l[r]}function M(l,n){return t=>{let g=e({queryArgs:t,endpointDefinition:n,endpointName:l});return c(t===te?T:y=>R(y)?.queries?.[g]??qe,S)}}function k(){return l=>{let n;return typeof l=="object"?n=z(l)??te:n=l,c(n===te?d:x=>R(x)?.mutations?.[n]??Ne,S)}}function m(l,n){let t=l[r],g=new Set;for(let x of n.map(oe)){let p=t.provided[x.type];if(!p)continue;let y=(x.id!==void 0?p[x.id]:le(Object.values(p)))??[];for(let a of y)g.add(a)}return le(Array.from(g.values()).map(x=>{let p=t.queries[x];return p?[{queryCacheKey:x,endpointName:p.endpointName,originalArgs:p.originalArgs}]:[]}))}function A(l,n){return Object.values(l[r].queries).filter(t=>t?.endpointName===n&&t.status!=="uninitialized").map(t=>t.originalArgs)}}var He=require("@reduxjs/toolkit");var Ue=WeakMap?new WeakMap:void 0,ne=({endpointName:e,queryArgs:r})=>{let c="",T=Ue?.get(r);if(typeof T=="string")c=T;else{let d=JSON.stringify(r,(S,R)=>(R=typeof R=="bigint"?{$bigint:R.toString()}:R,R=(0,i.isPlainObject)(R)?Object.keys(R).sort().reduce((M,k)=>(M[k]=R[k],M),{}):R,R));(0,i.isPlainObject)(r)&&Ue?.set(r,d),c=d}return`${e}(${c})`};var ge=require("reselect");function de(...e){return function(c){let T=(0,ge.weakMapMemoize)(m=>c.extractRehydrationInfo?.(m,{reducerPath:c.reducerPath??"api"})),d={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...c,extractRehydrationInfo:T,serializeQueryArgs(m){let A=ne;if("serializeQueryArgs"in m.endpointDefinition){let l=m.endpointDefinition.serializeQueryArgs;A=n=>{let t=l(n);return typeof t=="string"?t:ne({...n,queryArgs:t})}}else c.serializeQueryArgs&&(A=c.serializeQueryArgs);return A(m)},tagTypes:[...c.tagTypes||[]]},S={endpointDefinitions:{},batch(m){m()},apiUid:(0,i.nanoid)(),extractRehydrationInfo:T,hasRehydrationInfo:(0,ge.weakMapMemoize)(m=>T(m)!=null)},R={injectEndpoints:k,enhanceEndpoints({addTagTypes:m,endpoints:A}){if(m)for(let l of m)d.tagTypes.includes(l)||d.tagTypes.push(l);if(A)for(let[l,n]of Object.entries(A))typeof n=="function"?n(S.endpointDefinitions[l]):Object.assign(S.endpointDefinitions[l]||{},n);return R}},M=e.map(m=>m.init(R,d,S));function k(m){let A=m.endpoints({query:l=>({...l,type:"query"}),mutation:l=>({...l,type:"mutation"})});for(let[l,n]of Object.entries(A)){if(m.overrideExisting!==!0&&l in S.endpointDefinitions){if(m.overrideExisting==="throw")throw new Error((0,He.formatProdErrorMessage)(39));typeof process<"u";continue}S.endpointDefinitions[l]=n;for(let t of M)t.injectEndpoint(l,n)}return R}return R.injectEndpoints({endpoints:c.endpoints})}}var Le=require("@reduxjs/toolkit");function _e(){return function(){throw new Error((0,Le.formatProdErrorMessage)(33))}}var nt=require("immer");function H(e,...r){return Object.assign(e,...r)}var ze=require("immer");var Ve=({api:e,queryThunk:r,internalState:c})=>{let T=`${e.reducerPath}/subscriptions`,d=null,S=null,{updateSubscriptionOptions:R,unsubscribeQueryResult:M}=e.internalActions,k=(t,g)=>{if(R.match(g)){let{queryCacheKey:p,requestId:y,options:a}=g.payload;return t?.[p]?.[y]&&(t[p][y]=a),!0}if(M.match(g)){let{queryCacheKey:p,requestId:y}=g.payload;return t[p]&&delete t[p][y],!0}if(e.internalActions.removeQueryResult.match(g))return delete t[g.payload.queryCacheKey],!0;if(r.pending.match(g)){let{meta:{arg:p,requestId:y}}=g,a=t[p.queryCacheKey]??={};return a[`${y}_running`]={},p.subscribe&&(a[y]=p.subscriptionOptions??a[y]??{}),!0}let x=!1;if(r.fulfilled.match(g)||r.rejected.match(g)){let p=t[g.meta.arg.queryCacheKey]||{},y=`${g.meta.requestId}_running`;x||=!!p[y],delete p[y]}if(r.rejected.match(g)){let{meta:{condition:p,arg:y,requestId:a}}=g;if(p&&y.subscribe){let s=t[y.queryCacheKey]??={};s[a]=y.subscriptionOptions??s[a]??{},x=!0}}return x},m=()=>c.currentSubscriptions,n={getSubscriptions:m,getSubscriptionCount:t=>{let x=m()[t]??{};return j(x)},isRequestSubscribed:(t,g)=>!!m()?.[t]?.[g]};return(t,g)=>{if(d||(d=JSON.parse(JSON.stringify(c.currentSubscriptions))),e.util.resetApiState.match(t))return d=c.currentSubscriptions={},S=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(t))return[!1,n];let x=k(c.currentSubscriptions,t),p=!0;if(x){S||(S=setTimeout(()=>{let s=JSON.parse(JSON.stringify(c.currentSubscriptions)),[,o]=(0,ze.produceWithPatches)(d,()=>s);g.next(e.internalActions.subscriptionsUpdated(o)),d=s,S=null},500));let y=typeof t.type=="string"&&!!t.type.startsWith(T),a=r.rejected.match(t)&&t.meta.condition&&!!t.meta.arg.subscribe;p=!y&&!a}return[p,!1]}};function ht(e){for(let r in e)return!1;return!0}var Qt=2147483647/1e3-1,We=({reducerPath:e,api:r,queryThunk:c,context:T,internalState:d})=>{let{removeQueryResult:S,unsubscribeQueryResult:R}=r.internalActions,M=(0,i.isAnyOf)(R.match,c.fulfilled,c.rejected);function k(n){let t=d.currentSubscriptions[n];return!!t&&!ht(t)}let m={},A=(n,t,g)=>{if(M(n)){let x=t.getState()[e],{queryCacheKey:p}=R.match(n)?n.payload:n.meta.arg;l(p,x.queries[p]?.endpointName,t,x.config)}if(r.util.resetApiState.match(n))for(let[x,p]of Object.entries(m))p&&clearTimeout(p),delete m[x];if(T.hasRehydrationInfo(n)){let x=t.getState()[e],{queries:p}=T.extractRehydrationInfo(n);for(let[y,a]of Object.entries(p))l(y,a?.endpointName,t,x.config)}};function l(n,t,g,x){let y=T.endpointDefinitions[t]?.keepUnusedDataFor??x.keepUnusedDataFor;if(y===1/0)return;let a=Math.max(0,Math.min(y,Qt));if(!k(n)){let s=m[n];s&&clearTimeout(s),m[n]=setTimeout(()=>{k(n)||g.dispatch(S({queryCacheKey:n})),delete m[n]},a*1e3)}}return A};var $e=new Error("Promise never resolved before cacheEntryRemoved."),Je=({api:e,reducerPath:r,context:c,queryThunk:T,mutationThunk:d,internalState:S})=>{let R=(0,i.isAsyncThunkAction)(T),M=(0,i.isAsyncThunkAction)(d),k=(0,i.isFulfilled)(T,d),m={},A=(t,g,x)=>{let p=l(t);if(T.pending.match(t)){let y=x[r].queries[p],a=g.getState()[r].queries[p];!y&&a&&n(t.meta.arg.endpointName,t.meta.arg.originalArgs,p,g,t.meta.requestId)}else if(d.pending.match(t))g.getState()[r].mutations[p]&&n(t.meta.arg.endpointName,t.meta.arg.originalArgs,p,g,t.meta.requestId);else if(k(t)){let y=m[p];y?.valueResolved&&(y.valueResolved({data:t.payload,meta:t.meta.baseQueryMeta}),delete y.valueResolved)}else if(e.internalActions.removeQueryResult.match(t)||e.internalActions.removeMutationResult.match(t)){let y=m[p];y&&(delete m[p],y.cacheEntryRemoved())}else if(e.util.resetApiState.match(t))for(let[y,a]of Object.entries(m))delete m[y],a.cacheEntryRemoved()};function l(t){return R(t)?t.meta.arg.queryCacheKey:M(t)?t.meta.arg.fixedCacheKey??t.meta.requestId:e.internalActions.removeQueryResult.match(t)?t.payload.queryCacheKey:e.internalActions.removeMutationResult.match(t)?z(t.payload):""}function n(t,g,x,p,y){let a=c.endpointDefinitions[t],s=a?.onCacheEntryAdded;if(!s)return;let o={},u=new Promise(B=>{o.cacheEntryRemoved=B}),h=Promise.race([new Promise(B=>{o.valueResolved=B}),u.then(()=>{throw $e})]);h.catch(()=>{}),m[x]=o;let f=e.endpoints[t].select(a.type==="query"?g:x),Q=p.dispatch((B,D,v)=>v),E={...p,getCacheEntry:()=>f(p.getState()),requestId:y,extra:Q,updateCachedData:a.type==="query"?B=>p.dispatch(e.util.updateQueryData(t,g,B)):void 0,cacheDataLoaded:h,cacheEntryRemoved:u},b=s(g,E);Promise.resolve(b).catch(B=>{if(B!==$e)throw B})}return A};var Ge=({api:e,context:{apiUid:r},reducerPath:c})=>(T,d)=>{e.util.resetApiState.match(T)&&d.dispatch(e.internalActions.middlewareRegistered(r)),typeof process<"u"};var Ye=({reducerPath:e,context:r,context:{endpointDefinitions:c},mutationThunk:T,queryThunk:d,api:S,assertTagType:R,refetchQuery:M,internalState:k})=>{let{removeQueryResult:m}=S.internalActions,A=(0,i.isAnyOf)((0,i.isFulfilled)(T),(0,i.isRejectedWithValue)(T)),l=(0,i.isAnyOf)((0,i.isFulfilled)(T,d),(0,i.isRejected)(T,d)),n=[],t=(p,y)=>{A(p)?x(ue(p,"invalidatesTags",c,R),y):l(p)?x([],y):S.util.invalidateTags.match(p)&&x(Y(p.payload,void 0,void 0,void 0,void 0,R),y)};function g(p){for(let y in p.queries)if(p.queries[y]?.status==="pending")return!0;for(let y in p.mutations)if(p.mutations[y]?.status==="pending")return!0;return!1}function x(p,y){let a=y.getState(),s=a[e];if(n.push(...p),s.config.invalidationBehavior==="delayed"&&g(s))return;let o=n;if(n=[],o.length===0)return;let u=S.util.selectInvalidatedBy(a,o);r.batch(()=>{let h=Array.from(u.values());for(let{queryCacheKey:f}of h){let Q=s.queries[f],E=k.currentSubscriptions[f]??{};Q&&(j(E)===0?y.dispatch(m({queryCacheKey:f})):Q.status!=="uninitialized"&&y.dispatch(M(Q,f)))}})}return t};var Xe=({reducerPath:e,queryThunk:r,api:c,refetchQuery:T,internalState:d})=>{let S={},R=(n,t)=>{(c.internalActions.updateSubscriptionOptions.match(n)||c.internalActions.unsubscribeQueryResult.match(n))&&k(n.payload,t),(r.pending.match(n)||r.rejected.match(n)&&n.meta.condition)&&k(n.meta.arg,t),(r.fulfilled.match(n)||r.rejected.match(n)&&!n.meta.condition)&&M(n.meta.arg,t),c.util.resetApiState.match(n)&&A()};function M({queryCacheKey:n},t){let g=t.getState()[e],x=g.queries[n],p=d.currentSubscriptions[n];if(!x||x.status==="uninitialized")return;let{lowestPollingInterval:y,skipPollingIfUnfocused:a}=l(p);if(!Number.isFinite(y))return;let s=S[n];s?.timeout&&(clearTimeout(s.timeout),s.timeout=void 0);let o=Date.now()+y;S[n]={nextPollTimestamp:o,pollingInterval:y,timeout:setTimeout(()=>{(g.config.focused||!a)&&t.dispatch(T(x,n)),M({queryCacheKey:n},t)},y)}}function k({queryCacheKey:n},t){let x=t.getState()[e].queries[n],p=d.currentSubscriptions[n];if(!x||x.status==="uninitialized")return;let{lowestPollingInterval:y}=l(p);if(!Number.isFinite(y)){m(n);return}let a=S[n],s=Date.now()+y;(!a||s<a.nextPollTimestamp)&&M({queryCacheKey:n},t)}function m(n){let t=S[n];t?.timeout&&clearTimeout(t.timeout),delete S[n]}function A(){for(let n of Object.keys(S))m(n)}function l(n={}){let t=!1,g=Number.POSITIVE_INFINITY;for(let x in n)n[x].pollingInterval&&(g=Math.min(n[x].pollingInterval,g),t=n[x].skipPollingIfUnfocused||t);return{lowestPollingInterval:g,skipPollingIfUnfocused:t}}return R};var Ze=({api:e,context:r,queryThunk:c,mutationThunk:T})=>{let d=(0,i.isPending)(c,T),S=(0,i.isRejected)(c,T),R=(0,i.isFulfilled)(c,T),M={};return(m,A)=>{if(d(m)){let{requestId:l,arg:{endpointName:n,originalArgs:t}}=m.meta,g=r.endpointDefinitions[n],x=g?.onQueryStarted;if(x){let p={},y=new Promise((u,h)=>{p.resolve=u,p.reject=h});y.catch(()=>{}),M[l]=p;let a=e.endpoints[n].select(g.type==="query"?t:l),s=A.dispatch((u,h,f)=>f),o={...A,getCacheEntry:()=>a(A.getState()),requestId:l,extra:s,updateCachedData:g.type==="query"?u=>A.dispatch(e.util.updateQueryData(n,t,u)):void 0,queryFulfilled:y};x(t,o)}}else if(R(m)){let{requestId:l,baseQueryMeta:n}=m.meta;M[l]?.resolve({data:m.payload,meta:n}),delete M[l]}else if(S(m)){let{requestId:l,rejectedWithValue:n,baseQueryMeta:t}=m.meta;M[l]?.reject({error:m.payload??m.error,isUnhandledError:!n,meta:t}),delete M[l]}}};var et=({reducerPath:e,context:r,api:c,refetchQuery:T,internalState:d})=>{let{removeQueryResult:S}=c.internalActions,R=(k,m)=>{L.match(k)&&M(m,"refetchOnFocus"),_.match(k)&&M(m,"refetchOnReconnect")};function M(k,m){let A=k.getState()[e],l=A.queries,n=d.currentSubscriptions;r.batch(()=>{for(let t of Object.keys(n)){let g=l[t],x=n[t];if(!x||!g)continue;(Object.values(x).some(y=>y[m]===!0)||Object.values(x).every(y=>y[m]===void 0)&&A.config[m])&&(j(x)===0?k.dispatch(S({queryCacheKey:t})):g.status!=="uninitialized"&&k.dispatch(T(g,t)))}})}return R};function tt(e){let{reducerPath:r,queryThunk:c,api:T,context:d}=e,{apiUid:S}=d,R={invalidateTags:(0,i.createAction)(`${r}/invalidateTags`)},M=l=>l.type.startsWith(`${r}/`),k=[Ge,We,Ye,Xe,Je,Ze];return{middleware:l=>{let n=!1,g={...e,internalState:{currentSubscriptions:{}},refetchQuery:A,isThisApiSliceAction:M},x=k.map(a=>a(g)),p=Ve(g),y=et(g);return a=>s=>{if(!(0,i.isAction)(s))return a(s);n||(n=!0,l.dispatch(T.internalActions.middlewareRegistered(S)));let o={...l,next:a},u=l.getState(),[h,f]=p(s,o,u),Q;if(h?Q=a(s):Q=f,l.getState()[r]&&(y(s,o,u),M(s)||d.hasRehydrationInfo(s)))for(let E of x)E(s,o,u);return Q}},actions:R};function A(l,n,t={}){return c({type:"query",endpointName:l.endpointName,originalArgs:l.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:n,...t})}}var re=Symbol(),pe=({createSelector:e=i.createSelector}={})=>({name:re,init(r,{baseQuery:c,tagTypes:T,reducerPath:d,serializeQueryArgs:S,keepUnusedDataFor:R,refetchOnMountOrArgChange:M,refetchOnFocus:k,refetchOnReconnect:m,invalidationBehavior:A},l){(0,nt.enablePatches)();let n=I=>(typeof process<"u",I);Object.assign(r,{reducerPath:d,endpoints:{},internalActions:{onOnline:_,onOffline:W,onFocus:L,onFocusLost:V},util:{}});let{queryThunk:t,mutationThunk:g,patchQueryData:x,updateQueryData:p,upsertQueryData:y,prefetch:a,buildMatchThunkActions:s}=Fe({baseQuery:c,reducerPath:d,context:l,api:r,serializeQueryArgs:S,assertTagType:n}),{reducer:o,actions:u}=Oe({context:l,queryThunk:t,mutationThunk:g,reducerPath:d,assertTagType:n,config:{refetchOnFocus:k,refetchOnReconnect:m,refetchOnMountOrArgChange:M,keepUnusedDataFor:R,reducerPath:d,invalidationBehavior:A}});H(r.util,{patchQueryData:x,updateQueryData:p,upsertQueryData:y,prefetch:a,resetApiState:u.resetApiState}),H(r.internalActions,u);let{middleware:h,actions:f}=tt({reducerPath:d,context:l,queryThunk:t,mutationThunk:g,api:r,assertTagType:n});H(r.util,f),H(r,{reducer:o,middleware:h});let{buildQuerySelector:Q,buildMutationSelector:E,selectInvalidatedBy:b,selectCachedArgsForQuery:B}=je({serializeQueryArgs:S,reducerPath:d,createSelector:e});H(r.util,{selectInvalidatedBy:b,selectCachedArgsForQuery:B});let{buildInitiateQuery:D,buildInitiateMutation:v,getRunningMutationThunk:P,getRunningMutationsThunk:w,getRunningQueriesThunk:O,getRunningQueryThunk:N}=Pe({queryThunk:t,mutationThunk:g,api:r,serializeQueryArgs:S,context:l});return H(r.util,{getRunningMutationThunk:P,getRunningMutationsThunk:w,getRunningQueryThunk:N,getRunningQueriesThunk:O}),{name:re,injectEndpoint(I,K){let q=r;q.endpoints[I]??={},ae(K)?H(q.endpoints[I],{name:I,select:Q(I,K),initiate:D(I,K)},s(t,I)):Be(K)&&H(q.endpoints[I],{name:I,select:E(),initiate:v(I)},s(g,I))}}}});var rt=de(pe());
//# sourceMappingURL=rtk-query.production.min.cjs.map